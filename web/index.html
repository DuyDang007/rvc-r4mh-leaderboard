<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Running Competition Leaderboard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- HEADER -->
    <div class="header-columns">
        <div class="left-column">
            <h1>RUN</h1>
        </div>
        <div class="right-column">
            <h2>FOR</h2>
            <h2>MENTAL HEALTH</h2>
            <h2>AWARENESS</h2>
        </div>
    </div>
    <div class="header">
        <h2>Cập nhật lúc: Oct 07, 2025</h2>
    </div>


    <!-- BODY -->
    <div class="leaderboard" id="male-leaderboard">
        <h1>Bảng xếp hạng Nam</h1>
        <table>
            <thead><tr><th>No.</th><th>Tên</th><th>Quãng đường tích lũy (km)</th></tr></thead>
            <tbody></tbody>
        </table>
    </div>

    <div class="leaderboard" id="female-leaderboard">
        <h1>Bảng xếp hạng Nữ</h1>
        <table>
            <thead><tr><th>No.</th><th>Athlete Name</th><th>Quãng đường tích lũy (km)</th></tr></thead>
            <tbody></tbody>
        </table>
    </div>

    <div class="leaderboard" id="group-leaderboard">
        <h1>Bảng xếp hạng Nhóm</h1>
        <table>
            <thead><tr><th>No.</th><th>Group Name</th><th>Quãng đường tích lũy (km)</th></tr></thead>
            <tbody></tbody>
        </table>
    </div>

    <script>
        async function loadLeaderboard(file, elementId, topN) {
            try {
                const response = await fetch(file);
                const data = await response.json();
                const sorted = data.sort((a, b) => b.distance - a.distance).slice(0, topN);

                const tbody = document.querySelector(`#${elementId} tbody`);
                sorted.forEach((entry, index) => {
                    const row = document.createElement('tr');
                    row.innerHTML = `<td>${index + 1}</td><td>${entry.name}</td><td>${entry.distance}</td>`;
                    tbody.appendChild(row);
                });
            } catch (error) {
                console.error(`Error loading ${file}:`, error);
            }
        }

        loadLeaderboard('male.json', 'male-leaderboard', 20);
        loadLeaderboard('female.json', 'female-leaderboard', 20);
        loadLeaderboard('group.json', 'group-leaderboard', 5);
    </script>
</body>
</html>